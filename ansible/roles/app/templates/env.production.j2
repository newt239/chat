POSTGRES_DB={{ postgres.db | default('chat') }}
POSTGRES_USER={{ postgres.user | default('postgres') }}
{% set postgres_password = lookup('env','POSTGRES_PASSWORD') or 'postgres' %}
POSTGRES_PASSWORD={{ postgres_password }}
DATABASE_URL=postgresql://{{ postgres.user | default('postgres') }}:{{ postgres_password }}@db:5432/{{ postgres.db | default('chat') }}?sslmode=disable

PORT=8080
{% set jwt_secret = lookup('env','JWT_SECRET') or '' %}
JWT_SECRET={{ jwt_secret }}
CORS_ALLOWED_ORIGINS={{ cors_allowed_origins | default('*') }}

{% set wasabi_access_key_id = lookup('env','WASABI_ACCESS_KEY_ID') or '' %}
WASABI_ACCESS_KEY_ID={{ wasabi_access_key_id }}
{% set wasabi_secret_access_key = lookup('env','WASABI_SECRET_ACCESS_KEY') or '' %}
WASABI_SECRET_ACCESS_KEY={{ wasabi_secret_access_key }}
{% set wasabi_bucket_name = lookup('env','WASABI_BUCKET_NAME') or 'chat' %}
WASABI_BUCKET_NAME={{ wasabi_bucket_name }}
{% set wasabi_region = lookup('env','WASABI_REGION') or 'ap-northeast-1' %}
WASABI_REGION={{ wasabi_region }}
{% set wasabi_endpoint = lookup('env','WASABI_ENDPOINT') or 'https://ap-northeast-1.s3.wasabisys.com' %}
WASABI_ENDPOINT={{ wasabi_endpoint }}

DOMAIN={{ domain | default('chat.newt239.dev') }}
CADDY_EMAIL={{ caddy_email | default('contact@newt239.dev') }}
